{"ast":null,"code":"var _jsxFileName = \"/home/berna/\\xC1rea de Trabalho/desafio-configr-teste/src/components/Comp.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Issues from './Issues';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Comp() {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [selected, setSelected] = useState('');\n  const [clicked, setClicked] = useState('');\n  const [status, setStatus] = useState('open');\n  const [statusClicked, setStatusClicked] = useState('open');\n  const [label, setLabel] = useState('');\n  const [labelClicked, setLabelClicked] = useState('');\n  const [page, setPage] = useState('1');\n  const [itensPage, setItensPage] = useState(10);\n  const numberPages = Math.ceil(data.length / itensPage);\n  const startIndex = Number(page) * itensPage;\n  const endIndex = startIndex + itensPage;\n  let currentItems = data.slice(startIndex - 1, endIndex);\n\n  function apiFetch() {\n    const fetchApi = fetch(\"https://api.github.com/repos/facebook/react/issues\").then(response => response.json()).then(result => {\n      const empty = [];\n      result.map(elem => {\n        const elemLimpo = {\n          title: elem.title,\n          labels: elem.labels,\n          comments: elem.comments,\n          state: elem.state,\n          created_at: elem.created_at\n        };\n        empty.push(elemLimpo);\n      }); // const slice = empty.slice(0,10);\n\n      console.log(empty);\n      return setData(empty);\n    });\n    return fetchApi;\n  }\n\n  function mapComments() {\n    data.sort(function (a, b) {\n      return b.comments > a.comments ? 1 : a.comments > b.comments ? -1 : 0;\n    });\n    setData([...data]);\n  }\n\n  function mapOlders() {\n    data.sort(function (a, b) {\n      return a.created_at < b.created_at ? -1 : a.created_at > b.created_at ? 1 : 0;\n    });\n    setData([...data]);\n  }\n\n  function mapNews() {\n    data.sort(function (a, b) {\n      return b.created_at < a.created_at ? -1 : b.created_at > a.created_at ? 1 : 0;\n    });\n    setData([...data]);\n  }\n\n  function sliceData() {\n    if (page === '1') {\n      return data.slice(0, 10);\n    } else if (page === '2') {\n      return data.slice(10, 20);\n    } else if (page === '3') {\n      return data.slice(20, 31);\n    }\n\n    setData([...data]);\n  }\n\n  useEffect(() => {\n    apiFetch();\n  }, []);\n  useEffect(() => {\n    if (clicked === 'comentados') {\n      console.log(data);\n      mapComments();\n    }\n\n    if (clicked === 'antigos') {\n      mapOlders();\n    }\n\n    if (clicked === 'recentes') {\n      mapNews();\n    }\n  }, [clicked]);\n  useEffect(() => {\n    const map = [];\n    data.forEach(element => {\n      const filtered = element.labels.filter(elem => elem['name'].includes(label));\n\n      if (filtered.length !== 0) {\n        map.push(element);\n      }\n    });\n    setData(map);\n  }, [labelClicked]);\n  useEffect(() => {\n    sliceData();\n  }, [page]);\n\n  function handleChange({\n    target\n  }) {\n    const {\n      value\n    } = target;\n    setSelected(value);\n  }\n\n  function statusChange({\n    target\n  }) {\n    const {\n      value\n    } = target;\n    setStatus(value);\n  }\n\n  function labelChange({\n    target\n  }) {\n    const {\n      value\n    } = target;\n    setLabel(value);\n  }\n\n  function statusClick() {\n    setStatusClicked(status);\n  }\n\n  function handleClick() {\n    setClicked(selected);\n  }\n\n  function labelClick() {\n    setLabelClicked(label);\n  }\n\n  function pagesChange({\n    target\n  }) {\n    const {\n      value\n    } = target;\n    setPage(value);\n    console.log(page);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"divInicial\",\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Selecionar P\\xE1gina\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"radio\",\n      value: \"1\",\n      name: \"paginas\",\n      id: \"pag1\",\n      onChange: pagesChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }, this), \"1\", /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"radio\",\n      value: \"2\",\n      name: \"paginas\",\n      id: \"pag2\",\n      onChange: pagesChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }, this), \"2\", /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"radio\",\n      value: \"3\",\n      name: \"paginas\",\n      id: \"pag3\",\n      onChange: pagesChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }, this), \"3\", /*#__PURE__*/_jsxDEV(\"label\", {\n      for: \"label-input\",\n      children: [\"Labels:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        \"data-testid\": \"label-input\",\n        id: \"label-input\",\n        value: label,\n        onChange: labelChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: labelClick,\n      children: \"Pesquisar Labels\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      for: \"status-input\",\n      children: [\"Status:\", /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"status\",\n        \"data-testid\": \"status-input\",\n        id: \"status-input\",\n        value: status,\n        onChange: statusChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"open\",\n          children: \"Abertos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"closed\",\n          children: \"Fechados\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: statusClick,\n      children: \"Filtrar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      for: \"selected-input\",\n      children: [\"Ordenar por:\", /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"selected\",\n        \"data-testid\": \"selected-input\",\n        id: \"selected-input\",\n        value: selected,\n        onChange: handleChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"comentados\",\n          children: \"Mais comentados\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"recentes\",\n          children: \"Mais Recentes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"antigos\",\n          children: \"Mais Antigos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleClick,\n      children: \"Ordenar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), data.filter(element => element.state === statusClicked).map((post, index) => /*#__PURE__*/_jsxDEV(Issues, {\n      postagem: post\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 7\n  }, this);\n}\n\n_s(Comp, \"XPVy9sYagg6zW2T0I0O14cZq33o=\");\n\n_c = Comp;\n;\n/*  return (\n    <div className=\"divInicial\">\n      <select name=\"selected\"\n            data-testid=\"selected-input\"\n            id=\"selected-input\"\n            value={ selected }\n            onChange={ handleChange }>\n        <option value=\"comentados\">Mais comentados</option>\n        <option value=\"recentes\">Mais Recentes</option>\n      </select>\n      <button onClick= {handleClick}>Filtrar</button>\n      {console.log(comments)}\n      {clicked !== \"comentados\" ? (data.map((post, index) => (\n    <Issues key={index} postagem={post} />\n  ))) : (comments.map((post, index) => (\n    <MoreComments key={index} postagem={post} />\n  )))} \n  )*/\n\nexport default Comp;\n\nvar _c;\n\n$RefreshReg$(_c, \"Comp\");","map":{"version":3,"sources":["/home/berna/Área de Trabalho/desafio-configr-teste/src/components/Comp.js"],"names":["React","useState","useEffect","Issues","Comp","data","setData","selected","setSelected","clicked","setClicked","status","setStatus","statusClicked","setStatusClicked","label","setLabel","labelClicked","setLabelClicked","page","setPage","itensPage","setItensPage","numberPages","Math","ceil","length","startIndex","Number","endIndex","currentItems","slice","apiFetch","fetchApi","fetch","then","response","json","result","empty","map","elem","elemLimpo","title","labels","comments","state","created_at","push","console","log","mapComments","sort","a","b","mapOlders","mapNews","sliceData","forEach","element","filtered","filter","includes","handleChange","target","value","statusChange","labelChange","statusClick","handleClick","labelClick","pagesChange","post","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Issues from './Issues';\n\nfunction Comp(){\n  const [data, setData] = useState([]);\n  const [selected, setSelected] = useState('');\n  const [clicked, setClicked] = useState('');\n  const [status, setStatus] = useState('open');\n  const [statusClicked, setStatusClicked] = useState('open');\n  const [label, setLabel] = useState('');\n  const [labelClicked, setLabelClicked] = useState('');\n  const [page, setPage] = useState('1');\n  const [itensPage, setItensPage] = useState(10);\n\n  const numberPages = Math.ceil(data.length / itensPage);\n  const startIndex = Number(page) * itensPage;\n  const endIndex = startIndex + itensPage\n  let currentItems = data.slice(startIndex -1,endIndex);\n\n  function apiFetch() {\n    const fetchApi = fetch(\"https://api.github.com/repos/facebook/react/issues\")\n      .then((response) => response.json())\n        .then((result) => {\n            const empty = [];\n            result.map((elem) => {\n              const elemLimpo = {\n                title: elem.title ,\n                labels: elem.labels,\n                comments: elem.comments,\n                state: elem.state,\n                created_at: elem.created_at,\n              }\n              empty.push(elemLimpo);\n            });\n            // const slice = empty.slice(0,10);\n            console.log(empty)\n            return setData(empty)\n          });\n    return fetchApi;\n  }\n\n  function mapComments() {\n    data.sort(function(a,b) {\n      return b.comments > a.comments ? 1 : a.comments > b.comments ? -1 : 0;\n  });\n  setData([...data]);\n  }\n\n  function mapOlders() {\n    data.sort(function(a,b) {\n      return a.created_at < b.created_at ? -1 : a.created_at > b.created_at ? 1 : 0;\n  });\n  setData([...data]);\n  }\n\n  function mapNews() {\n    data.sort(function(a,b) {\n      return b.created_at < a.created_at ? -1 : b.created_at > a.created_at ? 1 : 0;\n  });\n  setData([...data]);\n  }\n\n  function sliceData(){\n    if(page === '1'){\n      return data.slice(0,10)\n    } else if(page === '2'){\n      return data.slice(10,20)\n    } else if(page === '3'){\n      return data.slice(20,31)\n    }\n    setData([...data]);\n  }\n\n  useEffect(() => {\n    apiFetch();\n  },[]);\n\n  useEffect(() => { \n    if (clicked === 'comentados'){\n      console.log(data);\n      mapComments();\n      }\n    if (clicked === 'antigos'){\n      mapOlders();\n    }\n    if (clicked === 'recentes'){\n      mapNews();\n    }\n  },[clicked])\n\n  useEffect(() => {\n    const map = [];\n    data\n      .forEach((element) => {\n        const filtered = element.labels\n          .filter((elem) => elem['name'].includes(label))\n\n        if (filtered.length !== 0) {\n          map.push(element);\n        }\n      });\n\n    setData(map);\n  }, [labelClicked])\n\n  useEffect(() => {\n    sliceData();\n  }, [page])\n\n  function handleChange({ target }){\n    const { value } = target;\n    setSelected( value );\n  }\n\n  function statusChange({ target }){\n    const { value } = target;\n    setStatus( value );\n  }\n\n  function labelChange({ target }){\n    const { value } = target;\n    setLabel( value );\n  }\n\n  function statusClick(){\n    setStatusClicked(status);\n  }\n\n  function handleClick(){\n    setClicked(selected);\n  }\n\n  function labelClick(){\n    setLabelClicked(label);\n  }\n\n  function pagesChange({ target }){\n    const { value } = target;\n    setPage(value);\n    console.log(page);\n  }\n\n    return(\n      <div className=\"divInicial\">\n        <h5>Selecionar Página</h5>\n        <input type=\"radio\" value=\"1\" name=\"paginas\" id=\"pag1\" onChange={pagesChange} />1\n        <input type=\"radio\" value=\"2\" name=\"paginas\" id=\"pag2\" onChange={pagesChange} />2\n        <input type=\"radio\" value=\"3\" name=\"paginas\" id=\"pag3\"onChange={pagesChange} />3\n        <label for=\"label-input\">Labels:\n        <input data-testid=\"label-input\"\n            id=\"label-input\"\n            value={ label }\n            onChange={ labelChange } />\n        </label>\n        <button onClick = {labelClick}>Pesquisar Labels</button>\n        <label for=\"status-input\">Status:\n        <select name=\"status\"\n            data-testid=\"status-input\"\n            id=\"status-input\"\n            value={ status }\n            onChange={ statusChange }>\n              <option value=\"open\">Abertos</option>\n              <option value=\"closed\">Fechados</option>\n            </select>\n        </label>\n        <button onClick = {statusClick}>Filtrar</button>\n        <label for=\"selected-input\">Ordenar por:\n      <select name=\"selected\"\n            data-testid=\"selected-input\"\n            id=\"selected-input\"\n            value={ selected }\n            onChange={ handleChange }>\n        <option value=\"comentados\">Mais comentados</option>\n        <option value=\"recentes\">Mais Recentes</option>\n        <option value=\"antigos\">Mais Antigos</option>\n      </select>\n      </label>\n      <button onClick= {handleClick}>Ordenar</button>\n      {\n        data.filter(\n          (element) => element.state === statusClicked)\n            .map((post, index) => (\n            <Issues key={index} postagem={post} />\n          ))\n      }\n  </div>\n    )\n};\n\n/*  return (\n    <div className=\"divInicial\">\n      <select name=\"selected\"\n            data-testid=\"selected-input\"\n            id=\"selected-input\"\n            value={ selected }\n            onChange={ handleChange }>\n        <option value=\"comentados\">Mais comentados</option>\n        <option value=\"recentes\">Mais Recentes</option>\n      </select>\n      <button onClick= {handleClick}>Filtrar</button>\n      {console.log(comments)}\n      {clicked !== \"comentados\" ? (data.map((post, index) => (\n    <Issues key={index} postagem={post} />\n  ))) : (comments.map((post, index) => (\n    <MoreComments key={index} postagem={post} />\n  )))} \n  )*/\n\nexport default Comp;"]},"metadata":{},"sourceType":"module"}